<ul role="list" class="space-y-2 max-h-80 overflow-auto pr-1">
  @for (todo of todos(); track todo.id) {
  <li
    class="group flex items-center justify-between gap-3 rounded-xl border border-zinc-800 bg-zinc-900/80 p-3 hover:border-zinc-700 hover:bg-zinc-900"
    [class.bg-zinc-900/80]="!todo.completed"
    [class.bg-zinc-900/40]="todo.completed"
    [class.opacity-70]="todo.completed"
    [class.hover\:opacity-100]="todo.completed"
    [class.hover\:bg-zinc-900/60]="todo.completed"
  >
    <label class="flex flex-1 items-center gap-3">
      <input
        type="checkbox"
        class="size-4 accent-blue-600"
        [checked]="todo.completed"
        (change)="toggleTodo(todo.id)"
      />
      <input
        #titleInput
        class="flex-1 rounded-md bg-transparent px-2 py-1 ring-1 ring-transparent focus:outline-none focus:ring-zinc-700"
        [class.line-through]="todo.completed"
        [class.text-zinc-400]="todo.completed"
        [value]="todo.title"
        (keyup.enter)="renameTodo(todo.id, titleInput.value)"
      />
    </label>

    <button
      class="rounded-md border border-zinc-700 px-2 py-1 text-zinc-300 transition hover:border-amber-500 hover:text-amber-500 cursor-pointer"
      (click)="renameTodo(todo.id, titleInput.value)"
    >
      <lucide-angular [img]="SquarePenIcon" class="w-4" />
    </button>
    <button
        class="rounded-md border border-zinc-700 px-2 py-1 text-zinc-300 transition hover:border-red-500 hover:text-red-500 cursor-pointer"
        (click)="removeTodo(todo.id)"
      >
        <lucide-angular [img]="TrashIcon" class="w-4" />
      </button>
  </li>
  }
</ul>
